<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MEdicines</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome-4.7.0/css/font-awesome.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/Lato/Lato-BoldItalic.ttf">
  
</head>
<body>
  <div class="wrap">
    <div class="search">
       <input type="text" id="myInput" placeholder="What are you looking for?" onkeyup="myFunction()">
       <button type="submit" class="searchButton">
         <i class="fa fa-search"></i>
      </button>
    </div>
 </div>
 
 <table id="myTable">
  <thead>
    <tr>
      <th>Medicine Name</th>
      <th>Symptoms</th>
     
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-column="Medicine Name">James</td>
      <td data-column="Symptoms">Matman</td>
     
    </tr>
    <tr>
      <td data-column="Medicine Name">Andor</td>
      <td data-column="Symptoms">Nagy</td>
     
    </tr>
    <tr>
      <td data-column="Medicine Name">Tamas</td>
      <td data-column="Symptoms">Biro</td>
     
    </tr>
    <tr>
      <td data-column="Medicine Name">Zoli</td>
      <td data-column="Symptoms">Mastah</td>
     
    </tr>
    <tr>
      <td data-column="Medicine Name">Szabi</td>
      <td data-column="Symptoms">Nagy</td>
     
    </tr>
  </tbody>
</table>
<p id="version"></p>
<div id="notification" class="hidden">
  <p id="message"></p>
  <button id="close-button" onClick="closeNotification()">
    Close
  </button>
  <button id="restart-button" onClick="restartApp()" class="hidden">
    Restart
  </button>
</div>
<script>
   const { ipcRenderer } = require('electron');
    const version = document.getElementById('version');
    
    ipcRenderer.send('app_version');
    ipcRenderer.on('app_version', (event, arg) => {
      ipcRenderer.removeAllListeners('app_version');
      version.innerText = 'Version ' + arg.version;
    });
</script>
<script>
  const notification = document.getElementById('notification');
const message = document.getElementById('message');
const restartButton = document.getElementById('restart-button');
ipcRenderer.on('update_available', () => {
  ipcRenderer.removeAllListeners('update_available');
  message.innerText = 'A new update is available. Downloading now...';
  notification.classList.remove('hidden');
});
ipcRenderer.on('update_downloaded', () => {
  ipcRenderer.removeAllListeners('update_downloaded');
  message.innerText = 'Update Downloaded. It will be installed on restart. Restart now?';
  restartButton.classList.remove('hidden');
  notification.classList.remove('hidden');
});
function closeNotification() {
  notification.classList.add('hidden');
}
function restartApp() {
  ipcRenderer.send('restart_app');
}
</script>

<script src="assets/js/style.js"></script>
</body>
</html>